<!-- login page -->
<app-navbar></app-navbar>
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-6">

      <!-- STEP 1: EMAIL INPUT -->
      <form *ngIf="step === 'email'" [formGroup]="emailForm" (ngSubmit)="sendOtp()">
        <fieldset class="border p-4 rounded">
          <legend>Email Verification</legend>
          <label>Email:</label>
          <input formControlName="email" type="email" class="form-control" placeholder="Enter your email" />
          <button type="submit" class="btn btn-primary mt-3">Send OTP</button>
        </fieldset>
      </form>

      <!-- STEP 2: OTP VERIFICATION -->
      <form *ngIf="step === 'otp'" [formGroup]="otpForm" (ngSubmit)="verifyOtp()">
        <fieldset class="border p-4 rounded">
          <legend>Enter OTP</legend>
          <p class="text-muted">Check console for OTP (demo purpose)</p>
          <label>OTP:</label>
          <input formControlName="otp" class="form-control" maxlength="4" placeholder="Enter OTP" />
          <button type="submit" class="btn btn-success mt-3">Verify OTP</button>
        </fieldset>
      </form>

      <!-- STEP 3: RESET PASSWORD -->
      <form *ngIf="step === 'reset'" [formGroup]="resetForm" (ngSubmit)="resetPassword()">
        <fieldset class="border p-4 rounded">
          <legend>Reset Password</legend>
          <label>New Password:</label>
          <input formControlName="newPassword" type="password" class="form-control" />
          <label class="mt-2">Confirm Password:</label>
          <input formControlName="confirmPassword" type="password" class="form-control" />
          <button type="submit" class="btn btn-warning mt-3">Reset Password</button>
        </fieldset>
      </form>

      <!-- Messages -->
      <div *ngIf="errorMsg" class="alert alert-danger mt-3">{{ errorMsg }}</div>
      <div *ngIf="successMsg" class="alert alert-success mt-3">{{ successMsg }}</div>

    </div>
  </div>
</div>


<!-- <div class="container mt-5">
    <div class="row justify-content-center">


        <div class="col-md-6 col-lg-4">
            <form [formGroup]="loginForm" (ngSubmit)="login()">
                <fieldset class="border p-3 rounded">
                    <legend class="float-none w-auto px-2">Forgot Your Password?</legend>
                    <p class="text-center">No worries! Enter your email and we'll send you a reset link</p>

                    <!- Email Field -->
                    <!-- <div class="mb-4">
                        <label for="email" class="form-label">Email address</label>
                        <input type="email" formControlName="email" [(ngModel)]="email" class="form-control"
                            placeholder="your@email.com" id="email" aria-describedby="emailHelp" required>
                        <div *ngIf="forgotPasswordForm.get('email')?.touched && forgotPasswordForm.get('email')?.invalid"
                            class="invalid-feedback animate__animated animate__shakeX">
                            Please enter a valid email address
                        </div>

                        <!- Password Field -->
                        <!-- <div class="mb-3">
                            <label for="pass" class="form-label">Password</label>
                            <input type="pass" formControlName="pass" [(ngModel)]="pass" class="form-control" id="pass"
                                required>
                        </div> -->

                        <!-- Login Button -->
                        <!-- <div>
                            <button type="submit" class="btn btn-primary w-30 m-2"> Send Reset Link</button>
                             <span>
                            <button type="submit" class="btn btn-warning w-30 m-2" routerLink="/login"> Back to Login</button>
                             </span>
                        </div>

                       
                        Forgot Password Link -->
                        <!-- <div class="text-center">
                            <p>Don't have an account? <a href="/register" class="text-primary">Sign up</a></p>
                        </div>

                    </div>
                </fieldset>
            </form>
        </div>
    </div>
</div> --> 